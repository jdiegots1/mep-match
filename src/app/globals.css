@import "tailwindcss";
@import "swiper/css";
@import "swiper/css/navigation";

/* Paleta UE */
:root{
  --eu-blue:#003399;
  --eu-yellow:#ffcc00;

  /* Fondo (oscuro → claro) */
  --bg-dark:#001a66;
  --bg-light:#003399;
}

/* Asegura que el documento puede crecer y el fondo lo cubre todo */
html, body{
  min-height:100%;
}

/* Fondo fijo, único, que no se repinta al añadir más contenido */
body{
  position: relative;
  background-color: var(--bg-light); /* fallback */
}
body::before{
  content:"";
  position: fixed;
  inset: 0;
  z-index: -1;
  pointer-events: none;
  /* Gradiente estable: oscuro → claro de arriba a abajo */
  background: linear-gradient(180deg, var(--bg-dark) 0%, var(--bg-light) 100%);
  background-repeat: no-repeat;
  background-attachment: fixed;
  /* Cubre siempre todo el viewport */
  background-size: 100% 100%;
}

/* ---------- Animaciones ---------- */
@keyframes fade-in-up{
  from{ opacity:0; transform:translateY(8px); }
  to{   opacity:1; transform:translateY(0); }
}
.fade-in{ animation:fade-in-up .6s ease both; }
.fade-in-1{ animation-delay:.10s; }
.fade-in-2{ animation-delay:.20s; }
.fade-in-3{ animation-delay:.30s; }

/* Suaves crossfades (útil para modo de resultados, etc.) */
.x-fade{
  transition: opacity .25s ease, transform .25s ease;
}
.x-fade-enter{ opacity:0; transform:translateY(4px); }
.x-fade-ready{ opacity:1; transform:translateY(0); }

/* ---------- Botón estilo UE ---------- */
.btn-eu{
  display:inline-flex; align-items:center; justify-content:center;
  border-radius:1rem; /* ≈ rounded-2xl */
  padding:.75rem 1.25rem; /* ≈ px-5 py-3 */
  font-weight:600;
  box-shadow:0 10px 15px -3px rgba(0,0,0,.1), 0 4px 6px -4px rgba(0,0,0,.1);
  transition: transform .15s ease, filter .15s ease;
  background:var(--eu-yellow);
  color:#0b1d5f;
}
.btn-eu:hover{ filter:brightness(.95); transform:translateY(-1px); }
.btn-eu:active{ transform:translateY(0); }

/* Contenedor centrado de la hero */
.hero-wrap{ min-height:calc(100dvh - 56px); }

/* ---------- Utilidades ---------- */
/* Ancho a pantalla completa desde contenedores centrados */
.full-bleed{
  width:100vw;
  margin-left:calc(50% - 50vw);
  margin-right:calc(50% - 50vw);
}

/* Ocultar barras de scroll (útil para contenedores horizontales) */
.no-scrollbar{
  -ms-overflow-style:none; /* IE/Edge */
  scrollbar-width:none;    /* Firefox */
}
.no-scrollbar::-webkit-scrollbar{ display:none; }

/* Elevación sutil para tarjetas (opcional) */
.card-elevated{
  box-shadow: 0 12px 30px rgba(0,0,0,.14), 0 6px 12px rgba(0,0,0,.10);
}

/* ---------- Swiper (carrusel) ---------- */
.swiper{
  overflow:visible; /* para que se vean las vecinas atenuadas */
}

/* Botones prev/next a los extremos, con glassmorphism */
.swiper-button-prev,
.swiper-button-next{
  width:48px; height:48px; border-radius:9999px;
  backdrop-filter: blur(6px);
  background: rgba(255,255,255,.10);
  border:1px solid rgba(255,255,255,.20);
  color:#fff;
  top:50% !important; transform:translateY(-50%);
}
.swiper-button-prev{ left:16px !important; }
.swiper-button-next{ right:16px !important; }
.swiper-button-disabled{ opacity:.35 !important; }

/* Quitar pseudo flechas por defecto para poder usar solo el círculo si quieres */
.swiper-button-prev::after,
.swiper-button-next::after{
  font-size:20px; /* mantén la flecha simple */
}

/* Suavizar la transición de slides */
.swiper-wrapper{
  transition-timing-function: ease !important;
}

.swiper-slide { transition: transform .32s ease, opacity .32s ease, filter .32s ease; opacity:.28; filter: blur(1.5px); }
.swiper-slide.swiper-slide-active { opacity:1; filter:none; transform:none; }

/* Evitar scrollbar horizontal del body cuando el carrusel es full-bleed */
body{ overflow-x:hidden; }

/* WebKit */
*::-webkit-scrollbar { width: 10px; height: 10px; }
*::-webkit-scrollbar-track { background: transparent; }
*::-webkit-scrollbar-thumb {
  background: rgba(255,255,255,0.25);
  border-radius: 999px;
  border: 2px solid transparent;
  background-clip: padding-box;
}
*::-webkit-scrollbar-thumb:hover {
  background: rgba(255,255,255,0.35);
  border: 2px solid transparent;
  background-clip: padding-box;
}
/* Firefox */
* { scrollbar-width: thin; scrollbar-color: rgba(255,255,255,0.3) transparent; }

/* ========== Mobile-only overrides (no TSX changes needed) ========== */
@media (max-width: 640px) {

  /* ——— Tipografía/espaciado global ——— */
  html, body{
    -webkit-text-size-adjust: 100%;
    text-rendering: optimizeLegibility;
  }
  body{
    -webkit-tap-highlight-color: transparent;
    scroll-behavior: smooth;
  }

  /* Reduce padding general del <main> y deja espacio por la barra inferior */
  main{
    padding: 12px 12px calc(84px + env(safe-area-inset-bottom)) !important;
  }

  /* Títulos grandes → más compactos en móvil */
  main h2{
    font-size: clamp(1.2rem, 5.2vw, 1.5rem) !important;
    line-height: 1.25 !important;
  }
  main h3{
    font-size: clamp(1.05rem, 4.6vw, 1.25rem) !important;
  }

  /* ——— Barra inferior fija ——— */
  /* Asegura altura estable y safe-area padding */
  .fixed.left-0.right-0.bottom-0{
    padding-bottom: max(8px, env(safe-area-inset-bottom)) !important;
  }
  .fixed.left-0.right-0.bottom-0 .px-4,
  .fixed.left-0.right-0.bottom-0 .px-5{
    padding-left: 12px !important;
    padding-right: 12px !important;
  }
  .fixed.left-0.right-0.bottom-0 button{
    min-height: 44px; /* WCAG tap target */
  }

  /* ——— Diálogos (Radix) a pantalla completa ———
     NOTA: apuntamos a las clases de Tailwind que ya usas en los Content. */
  /* Más información: w-[min(92vw,820px)] → fullscreen en móvil */
  .w-\[min\(92vw\,820px\)\]{
    width: 100vw !important;
    height: 100dvh !important;
    inset: 0 !important;
    left: 0 !important; top: 0 !important;
    transform: none !important;
    max-height: none !important;
    border-radius: 0 !important;
    padding: 16px !important;
  }
  /* Comparativa: w-[min(92vw,980px)] → fullscreen en móvil */
  .w-\[min\(92vw\,980px\)\]{
    width: 100vw !important;
    height: 100dvh !important;
    inset: 0 !important;
    left: 0 !important; top: 0 !important;
    transform: none !important;
    max-height: none !important;
    border-radius: 0 !important;
    padding: 16px !important;
  }

  /* Título del diálogo un poco más pequeño */
  .w-\[min\(92vw\,820px\)\] .text-lg,
  .w-\[min\(92vw\,980px\)\] .text-lg{
    font-size: 1.05rem !important;
  }

  /* ——— Botones/pills “fantasma” ——— */
  .inline-flex.rounded-lg{
    min-height: 36px;
  }

  /* ——— Tarjetas top-3 ——— */
  .rounded-3xl.border.p-6,
  .rounded-3xl.border.p-8{
    padding: 14px !important;
    border-radius: 16px !important;
  }
  /* Avatares dentro de tarjetas: algo más pequeños */
  .rounded-full.object-cover{
    width: 56px !important;
    height: 56px !important;
  }
  /* Chip de posición (2º/3º): */
  .w-7.h-7.rounded-full{
    width: 28px !important;
    height: 28px !important;
    font-size: 11px !important;
  }

  /* ——— CTA “Mira tus coincidencias…” ——— */
  .text-center.mt-10 > span,
  .text-center.mt-8 > span,
  .text-center.mt-6 > span{
    margin-top: 8px;
    padding: 10px 12px !important;
    font-size: 0.9rem !important;
  }

  /* ——— Ranking ——— */
  /* Fila un poco más alta y con más espacio táctil */
  .border-b.border-white\/10.py-2{
    padding-top: 10px !important;
    padding-bottom: 10px !important;
  }
  /* Columna de posiciones más estrecha en móvil */
  .w-24.flex.items-center.justify-start.gap-2{
    width: 72px !important;
    gap: 6px !important;
  }
  /* Avatar de lista algo mayor para legibilidad */
  .w-9.h-9.rounded-full{
    width: 40px !important;
    height: 40px !important;
  }
  /* % a la derecha: tipografía algo menor y ancho flexible */
  .w-24.text-right.font-mono{
    width: 72px !important;
    font-size: 12px !important;
  }

  /* Input de búsqueda: alto cómodo */
  input.w-full.rounded-xl{
    min-height: 42px !important;
    font-size: 0.95rem !important;
  }

  /* ——— Progreso superior ——— */
  /* Barra un pelín más alta en móvil */
  .h-2.rounded-full{
    height: 9px !important;
  }

  /* ——— Botón “Cerrar” en barra inferior cuando hay overlay ——— */
  /* (por si el SO reduce el área táctil) */
  .fixed.left-0.right-0.bottom-0 button:only-child{
    min-width: 48%;
    font-weight: 700;
  }
}
